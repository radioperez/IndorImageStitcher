## Актуальность
Для оценки состояния дорожно-транспортной сети широко используются передвижные дорожные лаборатории. С их помощью проводится съемка исследуемого участка дороги. Работу оператора можно облегчить, скомпоновав большие наборы изображений в "развертки".
## Цель
Разработка ПО
## Задачи

## Терминология
*Проекция* - преобразование точек трехмерного пространства в точки двумерного пространства. 
*Центр проекции* - точка, из которой исходят все линии проекции на плоскость.
Проекции с центральной точкой на конечном расстоянии называют *центральными*, а на бесконечном - *параллельными*.
Конечно, с реальными изображениями мы можем получить только приближение параллельной проекции. Для этого достаточно задать две прямые, которые обязаны быть параллельны. На основе этого можно вычислить матрицу параллельной трансформации и применить ее ко всему изображению. 
## Python приложение
Для этой цели было создано вспомогательное приложение. Ему передается исходный набор изображений, графически пользователь указывает две параллельные прямые, и скрипт преобразует на основе этих данных весь набор.
	Этот вариант не оптимален. Матрица трансформации вычисляется на основе первого изображения и не учитывает изменения условий съемки на следующих. К тому же на данный момент не учитывается длина фокуса камеры поэтому масштаб может стать искажен.
## Объединение изображений
После преобразования получаем большой набор снимков, на которых появляются одни и те же объекты. Вопросом объединения таких наборов занимаются при создании ортфотопланов земной поверхности.
### Понятие значимой черты
Для человеческого глаза черты могут быть очевидны, но определить их алгоритмически достаточно трудный вопрос. Из всех существующих алгоритмов мой выбор пал на SIFT из-за высокого качества результатов и детального описания работы алгоритма, но конечно существуют другие алгоритмы которые заявляют о лучшем качестве.
### SIFT
SIFT = Scale Invariant Feature Transform (Масштабно-инвариантная трансформация признаков)

### Поиск схожих черт между двумя изображениями
После работы алгоритма сифт над одним изображением, мы получаем набор ключевых точек и их дескрипторов. Дескрипторы точки не зависят от масштаба и не меняются при афинной трансформации изображения, поэтому их можно использовать для сравнения точек между несколькими изображениями.
Попарно сравниваем все точки на изображениях и вычисляем для них сумму евклидовых расстояний по каждому элементу вектора
Создаем массив "совпадений" отсортированный по возрастанию этой суммы.
### Объединение двух изображений 
Получив массив "совпадений" мы можем использовать точки в нем для построения матрицы преобразования. Для этого применяем метод RANdom SAmple Consensus или RANSAC. На протяжении нескольких итераций мы берем случайную выборку точек из массива совпадений, строим на их основе матрицу преобразований, и высчитываем количество "лишних" точек для этой матрицы (т.е. таких точек которые меняют свою позицию намного больше/в другом направлении чем остальные). После прохождения итераций за "истинную" матрицу принимается такая с наименьшим количеством "лишних".

### Алгоритм объединения двух изображений
1) Поместить первое изображение на бесконечную плоскость
2) Найти на первом и втором изображениях ключевые точки, описать их в дескрипторах
3) Найти между точками совпадения
4) Построить матрицу преобразования на основе совпадений
5) Оценить качество матрицы
6) При достойном качестве преобразования сохранить результат
